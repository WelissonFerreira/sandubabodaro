let catalogoDeProdutos = {
    "produto-combopassaporte": { // Esta Ã© a CHAVE, que corresponde ao seu data-produto-id
        tipo: "lanche",
        nome: "Combo Passaporte",
        precoRiscado: 26.00,
        preco: 22.00,
        descricao: "Passaporte Acompanhado de Batata Frita + CaÃ§ulinha",
        ingredientes: [
            "Carne MoÃ­da",
            "Salsicha",
            "Tomate Picado Verde",
            "Milho e Ervilha",
            "Katchup",
            "Maionese",
            "Batata Palha"
        ],
        imagem: "imagens/combos/combopassaporte.png"
    },

    "produto-comboburgao": {
        tipo: "lanche",
        nome: "Combo BurgÃ£o",
        precoRiscado: 26.00,
        preco: 20.00,
        descricao: "X-Burguer Acompanhado de Batata Frita + CaÃ§ulinha",
        ingredientes: [
        "HambÃºrguer",
        "Queijo",
        "Presunto",
        "Tomate",
        "Molho"
        ],
        imagem: "imagens/combos/comboburgao.png"
    },

    "produto-combofilezao": {
        tipo: "lanche",
        nome: "Combo FilÃ©ZÃ£o",
        precoRiscado: 32.00,
        preco: 27.00,
        descricao: "X FilÃ©ZÃ£o Acompanhado de Batata Frita + CaÃ§ulinha",
        ingredientes: [
        "FilÃ© de Alcatra",
        "Queijo",
        "Presunto",
        "Tomate",
        "Molho",
        ],
        imagem: "imagens/combos/combofile.png"
    },

    "produto-filezaofrango": {
        tipo: "lanche",
        nome: "Combo FilÃ©ZÃ£o de Frango",
        precoRiscado: 30.00,
        preco: 18.00,
        descricao: "FilÃ©ZÃ£o de Frango Acompanhado de Batata Frita + CaÃ§ulinha",
        ingredientes: [
            "FilÃ© de Frango",
            "Tomate Picado Verde",
            "Queijo",
            "Presunto",
            "Molho",
        ],
        imagem: "imagens/combos/combofiledefrango.png"
    },

    "produto-combo-segundafeira": {
        tipo: "lanche",
        nome: "Segunda-Feira",
        precoRiscado: 29.00,
        preco: 26.00,
        descricao: "Delecioso Passaporte + CaÃ§ulinha",
        ingredientes: [
            "Carne MoÃ­da",
            "Salsicha",
            "Tomate Picado Verde",
            "Milho e Ervilha",
            "Katchup",
            "Maionese",
            "Batata Palha"
        ],
        imagem: "imagens/combos/combosegunda.png"
    },


    "produto-combo-tercafeira": {
        tipo: "lanche",
        nome: "TerÃ§a-Feira",
        precoRiscado: 25.00,
        preco: 19.00,
        descricao: "X-Burguer + CaÃ§ulinha",
        ingredientes: [ 
        "HambÃºrguer",
        "Queijo",
        "Presunto",
        "Ovo",
        "Tomea",
        "Molho"
        ],
        imagem: "imagens/combos/combotercafeira.png"
    },

    "produto-combo-quartafeira": {
      tipo: "lanche",
      nome: "Quarta-Feira",
      precoRiscado: 26.00,
      preco: 22.00,
      descricao: "FilÃ© de Carne + CaÃ§ulinha",
      ingredientes: [
        "FilÃ© de Alcatra",
        "Queijo",
        "Presunto",
        "Tomate",
        "Molho",
      ],
      imagem: "imagens/combos/comboquarta.png"
    },

    "produto-combo-quintafeira": {
      tipo: "lanche",
      nome: "Quinta-Feira",
      precoRiscado: 25.00,
      preco: 20.00,
      descricao: "FilÃ© de Frango + CaÃ§ulinha",
      ingredientes: [
            "FilÃ© de Frango",
            "Tomate Picado Verde",
            "Queijo",
            "Presunto",
            "Molho",
      ],
      imagem: "imagens/combos/comboquinta.png"
    },

    "produto-garotoVIP": {
      tipo: "lanche",
      nome: "Garoto VIP",
      precoRiscado: 37.00,
      preco: 33.00,
      descricao: "Garoto VIP naquele modelo",
      ingredientes: [
        "Queijo",
        "Presunto",
        "FilÃ© de Frango",
        "FilÃ© de Alcatra",
        "Bacon",
        "Ovo",
        "HambÃºrguer",
        "Tomate",
        "Molho"
      ],
      imagem: "imagens/lanches/arthurbabyatt.png"
    },

    "produto-garotoVIPEspecial": {
      tipo: "lanche",
      nome: "Garoto VIP Especial",
      precoRiscado: 40.00,
      preco: 36.00,
      descricao: "Queijo Quente naquele padrÃ£o",
      ingredientes: [
        "Queijo",
        "Presunto",
        "FilÃ© de Frango",
        "FilÃ© de Alcatra",
        "Bacon",
        "2x Ovos",
        "2x HambÃºrguer's",
        "Tomate",
        "Molho"
      ],
      imagem: "imagens/lanches/especial4grande.png"
    },

    "produto-passaporte-carne": {
      tipo: "lanche",
      nome: "Passaporte de Carne",
      precoRiscado: 20.00,
      preco: 17.00,
      descricao: "Passaporte de carne super recheado",
      ingredientes: [ 
            "Carne MoÃ­da",
            "Salsicha",
            "Tomate",
            "Batata Palha"
      ],
      imagem: "imagens/lanches/passaportecarnealternativo.png"
    },

    "produto-passaporte-frango": {
      tipo: "lanche",
      nome: "Passaporte de Frango recheadÃ£o",
      precoRiscado: 24.00,
      preco: 19.00,
      descricao: "BaurÃº daquele jeito",
      ingredientes: [
            "Frango Desfiado",
            "Salsicha",
            "Tomate",
            "Batata Palha"
    ],
      imagem: "imagens/lanches/passaportefrangoalternativo.png"
    },

    "produto-passaporte-misto": {
      tipo: "lanche",
      nome: "Passaporte de Misto",
      precoRiscado: 26.00,
      preco: 21.00,
      descricao: "Passaporte de Misto topado daquele jeito",
      ingredientes: [
            "Carne MoÃ­da",
            "Frango Desfiado",
            "Salsicha",
            "Tomate",
            "Batata Palha"
    ],
      imagem: "imagens/lanches/sanduichemistoalternativo.png"
    },

    "produto-passaporte-bacon": {
      tipo: "lanche",
      nome: "Passaporte de Bacon",
      precoRiscado: 26.00,
      preco: 21.00,
      descricao: "Passaporte de Bacon topado demais",
      ingredientes: [
            "Carne MoÃ­da ou Frango Desfiado",
            "Bacon",
            "Tomate",
            "Batata Palha"
    ],
      imagem: "imagens/lanches/passaportebaconatt.png"
    },

    "produto-passaporte-calabresa": {
      tipo: "lanche",
      nome: "Passaporte de Calabresa",
      precoRiscado: 26.00,
      preco: 21.00,
      descricao: "Passaporte de Calabresa super recheado",
      ingredientes: [
            "Frango Desfiado",
            "Calabresa",
            "Milho e Ervilha",
            "Tomate",
            "Batata Palha"
    ],
      imagem: "imagens/lanches/passaportecalabresaalternativo.png"
    },

    "produto-xburguer": {
        tipo: "lanche",
        nome: "X-Burguer",
        precoRiscado: 20.00,
        preco: 15.00,
        descricao: "X-BurguersÃ£o super recheado.",
        ingredientes: [
        "HambÃºrguer",
        "Queijo",
        "Presunto",
        "Tomate",
        "Molho"
        ],
        imagem: "imagens/lanches/hamburgueratt.png"
    },

    "produto-xbacon": {
      tipo: "lanche",
      nome: "X-Bacon",
      precoRiscado: 22.00,
      preco: 18.00,
      descricao: "X-Bacon topadÃ£o daquele jeito",
      ingredientes: [
        "HambÃºrguer",
        "Queijo",
        "Presunto",
        "Bacon",
        "Tomate",
        "Molho"
      ],
      imagem: "imagens/lanches/x-bacon.png"
    },

    "produto-minuano": {
      tipo: "lanche",
      nome: "Minuano",
      precoRiscado: 20.00,
      preco: 17.00,
      descricao: "Minuano clÃ¡ssico naquele padrÃ£o",
      ingredientes: [
        "HambÃºrguer",
        "Ovo",
        "HambÃºrguer",
        "Queijo",
        "Tomate",
        "Molho"
    ],
      imagem: "imagens/lanches/minuano1.png"
    },

        "produto-xcalabresa": {
      tipo: "lanche",
      nome: "X-Calabresa",
      precoRiscado: 26.00,
      preco: 20.00,
      descricao: "X-Calabresa topadÃ£o",
      ingredientes: [
        "Calabresa",
        "Ovo",
        "Queijo",
        "Presunto",
        "Molho RosÃ©",
        "Salada"
      ],
      imagem: "imagens/lanches/xcalabresa.png"
    },

    "produto-xalcatra": {
      tipo: "lanche",
      nome: "X-Alcatra",
      precoRiscado: 30.00,
      preco: 27.00,
      descricao: "X-Alcatra topadÃ£o",
      ingredientes: [
        "FilÃ© de Carne",
        "Ovo",
        "Queijo",
        "Presunto",
        "Bacon",
        "Tomate",
        "Molho",
    ],
      imagem: "imagens/lanches/Xalcatra.png"
    },

      "produto-xfile": {
      tipo: "lanche",
      nome: "X-FilÃ©",
      precoRiscado: 28.00,
      preco: 25.00,
      descricao: "X-FilÃ© topadÃ£o",
      ingredientes: [
        "FilÃ© de Carne",
        "Queijo",
        "Presunto",
        "Tomate",
        "Molho"
      ],
      imagem: "imagens/lanches/xfile.png"
    },

      "produto-xfile-especial": {
      tipo: "lanche",
      nome: "X-FilÃ©",
      precoRiscado: 32.00,
      preco: 28.00,
      descricao: "X-FilÃ© topadÃ£o",
      ingredientes: [
        "FilÃ© de Carne",
        "Ovo",
        "Queijo",
        "Presunto",
        "Bacon",
        "Calabresa",
        "Tomate",
        "Molho"
      ],
      imagem: "imagens/lanches/xfileespecial.jpg"
    },

      "produto-xcoracao": {
      tipo: "lanche",
      nome: "X-CoraÃ§Ã£o",
      precoRiscado: 34.00,
      preco: 30.00,
      descricao: "X-CoraÃ§Ã£o naquele padrÃ£o",
      ingredientes: [
        "CoraÃ§Ã£o",
        "Ovo",
        "Queijo",
        "Presunto",
        "Bacon",
        "HambÃºrguer",
        "Tomate",
        "Molho"
      ],
      imagem: "imagens/lanches/xcoracaoatt.png"
    },

      "produto-filefrango": {
      tipo: "lanche",
      nome: "FilÃ© de Frango",
      precoRiscado: 26.00,
      preco: 22.00,
      descricao: "FilÃ©-Frango topadÃ£o",
      ingredientes: [
        "FilÃ© de Frango",
        "Queijo",
        "Presunto",
        "Ovos",
        "Molho",
        "Tomate"
      ],
      imagem: "imagens/lanches/filefrango.jpg"
    },

      "produto-filefrango-especial": {
      tipo: "lanche",
      nome: "FilÃ© de Frango Especial",
      precoRiscado: 30.00,
      preco: 27.00,
      descricao: "FilÃ©-Frango Especial topadÃ£o",
      ingredientes: [
        "FilÃ© de Frango",
        "Queijo",
        "Presunto",
        "Ovos",
        "Bacon",
        "HambÃºrguer",
        "Molho",
        "Tomate"
      ],
      imagem: "imagens/lanches/filefrangoespecial.jpg"
    },



    "produto-eggbacon": {
      tipo: "lanche",
      nome: "Egg-Bacon",
      precoRiscado: 26.00,
      preco: 22.00,
      descricao: "Egg-Bacon topadÃ£o",
      ingredientes: [
        "Bacon",
        "Ovo",
        "Queijo",
        "Presunto",
        "Molho",
        "Tomate"
      ],
      imagem: "imagens/lanches/xeggbacon.jpeg"
    },



        "produto-aguasemgas": {
        tipo: "bebida",
        nome: "Ãgua Mineral" ,
        precoRiscado: 4.00,
        preco: 3.00 ,
        descricao: "Ãgua Mineral sem gÃ¡s",
        imagem: "imagens/bebidas/aguamineralgas.png"
    },

        "produto-aguacomgas": {
        tipo: "bebida",
        nome: "Ãgua Mineral" ,
        precoRiscado: 5.00,
        preco: 4.00 ,
        descricao: "Ãgua Mineral com gÃ¡s",
        imagem: "imagens/bebidas/aguamineralgas.png"
    },

        "produto-h2o": {
        tipo: "bebida",
        nome: "H2O" ,
        precoRiscado: 10.00,
        preco: 8.00 ,
        descricao: "H2O",
        imagem: "imagens/bebidas/h20transparent.png"
    },
    
        "produto-cocamenor": {
        tipo: "bebida",
        nome: "Coca-Cola CaÃ§ulinha" ,
        precoRiscado: 5.00,
        preco: 4.00 ,
        descricao: "Coca-Cola CaÃ§ulinha",
        imagem: "imagens/bebidas/cocacaculinhamodal2.png"
    },

        "produto-guaranamenor": {
        tipo: "bebida",
        nome: "GuaranÃ¡ CaÃ§ulinha" ,
        precoRiscado: 5.00,
        preco: 4.00 ,
        descricao: "GuaranÃ¡ CaÃ§ulinha",
        imagem: "imagens/bebidas/guaranacaculinhamodal2.png"
    },


    "produto-cocacolalata": {
        tipo: "bebida",
        nome: "Coca-Cola em lata" ,
        precoRiscado: 9.00,
        preco: 7.00 ,
        descricao: "Coca-Cola em lata de 250 ml",
        imagem: "imagens/bebidas/cocacola350ml.png"
    },

    "produto-guaranalata": {
      tipo: "bebida",
      nome: "GuaranÃ¡ em lata",
      precoRiscado: 8.00,
      preco: 7.00,
      descricao: "GuanarÃ¡ em lata de 250 ml",
      imagem: "imagens/bebidas/GuaranaLataATTpng.png"
    },

    "produto-fantalata": {
      tipo: "bebida",
      nome: "Fanta 250ml",
      precoRiscado: 8.00,
      preco: 7.00,
      descricao: "Fanta em lata",
      imagem: "imagens/bebidas/Fantalata350ml.png"
    },

    "produto-sodalata": {
      tipo: "bebida",
      nome: "Soda 250ml",
      precoRiscado: 8.00,
      preco: 7.00,
      descricao: "Soda em lata",
      imagem: "imagens/bebidas/sodalata.png"
    },

    "produto-cocacola1L": {
      tipo: "bebida",
      nome: "Coca-Cola 1L",
      precoRiscado: 12.00,
      preco: 10.00,
      descricao: "Coca-Cola 1L",
      imagem: "imagens/bebidas/Coca1LA.png"
    },

    "produto-guarana1L": {
      tipo: "bebida",
      nome: "GuaranÃ¡ 1L",
      precoRiscado: 12.00,
      preco: 10.00,
      descricao: "GuaranÃ¡ 1L",
      imagem: "imagens/bebidas/guarana1LA.png"
    },

    "produto-fanta1L": {
      tipo: "bebida",
      nome: "Fanta 1L",
      precoRiscado: 11.00,
      preco: 10.00,
      descricao: "Fanta 1L",
      imagem: "imagens/bebidas/fanta1LA.png"
    },

    "produto-soda1L": {
      tipo: "bebida",
      nome: "Soda 1L",
      precoRiscado: 11.00,
      preco: 10.00,
      descricao: "Soda 1L",
      imagem: "imagens/bebidas/soda1LA.png"
    },

}

const precosEntrega = {
  "Feitosa": 3,
  "Farol": 8,
  "Jacintinho": 3,
  "Peixoto": 3,
  "Barro Duro": 4,
  "Serraria": 8,
  "Cruz das Almas": 6,
  "Ponta Verde": 10,
  "JatiÃºca": 9,
  "Gruta": 9,
  "PajuÃ§ara": 12,
  "JaraguÃ¡": 13
}


/* BotÃ£o ver mais programado */
// 2. VariÃ¡vel para TODOS os botÃµes "Ver mais"
let btnAbriModal = document.querySelectorAll('.botaomodal');


// FUNÃ‡ÃƒO PARA VER DETALHES DOS PRODUTOS
btnAbriModal.forEach(function(botaoAtual) {
    botaoAtual.addEventListener('click', function(event) {
        event.preventDefault();
    
        //  Exibir o modal correspondente ao botÃ£o clicado
        let SeletorDoModal = botaoAtual.dataset.modelTarget; // Acessa o valor do atributo data-model-target do HTML
        let modalParaAbrir = document.querySelector(SeletorDoModal); // Seleciona o modal correspondente

        modalParaAbrir.style.display = 'block'; // Exibe o modal
        document.body.style.overflow = 'hidden';
    
        // 1. Encontrar o botÃ£o de fechar DENTRO DESTE modal que abriu
        let fecharbotaomodal = modalParaAbrir.querySelector('.close-button-vermais')

        
        // 2. Adicionar um evento de clique a ESTE botÃ£o de fechar
        fecharbotaomodal.addEventListener('click', function() {
            // 3. Fazer APENAS ESTE modal desaparecer
            modalParaAbrir.style.display = 'none';
            document.body.style.overflow = 'auto';
            
        })

        

    })

})

// Opcional: Fechar o modal clicando fora dele
        // Esta parte Ã© um pouco mais avanÃ§ada, mas muito comum para UX.
        // Adiciona um ouvinte de clique Ã  janela.

        

        window.addEventListener('click', function(e) {
            let modalParaAbrir = document.querySelector('.modal[style*="display: block"]')
            // Se o clique foi NO PRÃ“PRIO MODAL (na Ã¡rea escura de fundo)
            // Lembre-se que o 'modalParaAbrir' Ã© o fundo escuro que cobre a tela.
            if (e.target === modalParaAbrir) {
                modalParaAbrir.style.display = 'none'; // Fecha o modal
                document.body.style.overflow = 'auto';
            }

        })



 // Configurando botÃ£o do carrinnho para o contador do carrinho e para pegar os objetos
let btnCarrinhoContador = document.querySelectorAll('.AdicionarCarrinho')
let contadorCarrinho = document.querySelector('.contcarrinho')
let valorCarrinho = 0
let itensCarrinho = [];
let sugestaoBebidas = document.querySelector('#sugestaoBebidas')


// FUNÃ‡ÃƒO CONTADOR DO CARRINHO
// Para cada botÃ£o de adicionar ao carrinho, adicione um 'click listener'
btnCarrinhoContador.forEach(function(botaoCarrinho) {
    botaoCarrinho.addEventListener('click', function() {
        // Incrementa o valor do contador do carrinho (este pode continuar)
      
        let msgAdicionado = document.createElement('span')
        msgAdicionado.textContent = `Adicionado com sucesso!`
        msgAdicionado.classList.add('msgAdicionado')
      
      // Anexa a mensagem ao botÃ£o, nÃ£o ao body.
      botaoCarrinho.appendChild(msgAdicionado)
      
      // Torna a mensagem visÃ­vel
      msgAdicionado.style.opacity = '1';


        // Usa o setTimeout para esconder a mensagem depois de 1.5 segundos
        setTimeout(function() {
            msgAdicionado.style.opacity = '0';
        }, 1500);

    
    
        // Pega o ID Ãºnico do produto a partir do atributo 'data-produto-id' do botÃ£o clicado
        let seletorDoCarrinho = botaoCarrinho.dataset.produtoId;
    
        // Usa o ID para encontrar e obter o objeto completo do produto no 'catalogoDeProdutos'
        let produtoSelecionado = catalogoDeProdutos[seletorDoCarrinho];

        // *** A PARTIR DAQUI Ã‰ O NOVO CÃ“DIGO QUE SUBSTITUI O SEU `itensCarrinho.push(...)` ***
        // 1. Procurar se o item jÃ¡ existe no carrinho
        let itemExistente = itensCarrinho.find(function(item) {
            return item.produtoId === seletorDoCarrinho;
});

        if (itemExistente) {
            // 2. Se o item jÃ¡ existe, incrementa a quantidade dele
            itemExistente.quantidade++;
        } else {
            // 3. Se o item NÃƒO existe, adiciona ele ao carrinho com quantidade 1
            itensCarrinho.push({
                produtoId: seletorDoCarrinho, // Adicione o ID para fÃ¡cil referÃªncia
                produto: produtoSelecionado,
                quantidade: 1
            });
        }




        // *** FIM DO NOVO CÃ“DIGO ***
        // Chama a FunÃ§Ã£o atualizar o carrinho este pode continuar
        atualizarCarrinho();
        
        // --- NOVA LÃ“GICA A SER ADICIONADA ---
        // 1. Encontra o modal de detalhes do produto pai do botÃ£o clicado
        let modalDeProdutoAtivo = botaoCarrinho.closest('.modal');

        // 2. Verifica se encontrou e esconde o modal
        if (modalDeProdutoAtivo) {
            modalDeProdutoAtivo.style.display = 'none';
        }

        // 3. Restaura a rolagem do body
        document.body.style.overflow = 'auto';
        // --- FIM DA NOVA LÃ“GICA ---
        console.log(itensCarrinho); // Verifique o novo formato do carrinho
    });
});

    // FUNÃ‡ÃƒO ADICIONAR BEBIDAS NO MODAL DE SUGESTÃƒO

    let adicionarBebida = document.querySelectorAll('.adicionar-bebida')
    adicionarBebida.forEach(function(botaoBebida) {
      botaoBebida.addEventListener('click', function() {
        seletorBebida = botaoBebida.dataset.produtoId
        bebidaCompleta = catalogoDeProdutos[seletorBebida]

        let bebidaExistente = itensCarrinho.find(function(bebida) {
            return bebida.produtoId === seletorBebida
        })

        if (bebidaExistente) {
          bebidaExistente.quantidade = bebidaExistente.quantidade + 1
        } else {
          itensCarrinho.push ({
            produtoId: seletorBebida,
            produto: bebidaCompleta,
            quantidade: 1
          });
        }

        atualizarCarrinho()

      })
    })


// ==========================================================================================
let abrirCarrinho = document.querySelector('#botaoCarrinho')
let modalCarrinho = document.querySelector('#ModalCarrinho')
let fecharCarrinho = document.querySelector('.close-button-carrinho')
let mensagemCarrinhoVazioDiv = document.querySelector('#mensagem-carrinho-vazio');

let scrollPosition = 0
    // FUNÃ‡ÃƒO FECHAR CARRINHO

        fecharCarrinho.addEventListener('click', function() {
        modalCarrinho.style.display = 'none';

        document.body.style.overflow = 'auto'
        document.body.style.position = '';
        document.body.style.top = '';
        document.body.style.width = '';
        window.scrollTo(0, scrollPosition);
        });

        // FUNÃ‡ÃƒO ABRIR CARRINHO
    
        abrirCarrinho.addEventListener('click', function(event) {
        event.preventDefault();

        if (itensCarrinho.length === 0) {
        // Exibe a mensagem de carrinho vazio
        mensagemCarrinhoVazioDiv.textContent = "Seu carrinho estÃ¡ vazio!";
        mensagemCarrinhoVazioDiv.style.display = 'block';

        // Opcional: Adicionar um temporizador para a mensagem desaparecer
        setTimeout(function() {
            mensagemCarrinhoVazioDiv.style.display = 'none';
            mensagemCarrinhoVazioDiv.textContent = ""; // Limpa o texto
        }, 1500); // A mensagem desaparece apÃ³s 1.5 segundos (3000 milissegundos)

        // Garante que o modal do carrinho NÃƒO abra se estiver vazio
        modalCarrinho.style.display = 'none'; 
        document.body.style.overflow = 'auto'; // Garante que a rolagem esteja liberada
    } else {
        
        scrollPosition = window.scrollY;
        document.body.style.position = 'fixed'
        document.body.style.top = `-${scrollPosition}px`
        document.body.style.width = '100%'
        document.body.style.overflow = 'hidden'

        modalCarrinho.style.display = 'block';
        

        // Se houver itens, esconde a mensagem e abre o modal
        mensagemCarrinhoVazioDiv.style.display = 'none'; // Esconde a mensagem caso estivesse visÃ­vel
        atualizarCarrinho();
        

        
    }
});





     //FUNÃ‡ÃƒO EXIBIR ITENS DO CARRINHO
    let itensDoCarrinhoDiv = document.querySelector('#itens-do-carrinho')

    function mostrarItensDoCarrinho() {
        itensDoCarrinhoDiv.textContent = "" // Limpa o conteÃºdo atual
        // PrÃ³ximo passo: verificar se o carrinho estÃ¡ vazio
        if (itensCarrinho.length === 0) {
            sugestaoBebidas.style.display = 'none';
            

        } else {

            let temLancheNoCarrinho = itensCarrinho.some(item => item.produto.tipo === 'lanche');
            let temBebidaNoCarrinho = itensCarrinho.some(item => item.produto.tipo === 'bebida');

            if (temLancheNoCarrinho) {
            sugestaoBebidas.style.display = 'flex'; // Ou 'flex'
            // VocÃª pode querer esconder as sugestÃµes se elas jÃ¡ estiverem abertas
            // para evitar que fiquem visÃ­veis o tempo todo se o usuÃ¡rio abrir e fechar o carrinho
            } else {
              sugestaoBebidas.style.display = 'none'
            }
            itensCarrinho.forEach(function(item) {

    // 1. Criar a DIV principal do item do carrinho
    let divItemCarrinho = document.createElement('div');
    divItemCarrinho.classList.add('item-do-carrinho');

    // 2. Criar os elementos que SEMPRE existem para qualquer produto (lanche ou bebida)
    let h3NomeProduto = document.createElement('h3');
    h3NomeProduto.textContent = item.produto.nome;
    h3NomeProduto.classList.add('nomeProduto');

    let descricaoProduto = document.createElement('p');
    descricaoProduto.textContent = `${item.produto.descricao}`;
    descricaoProduto.classList.add('descricaoProduto');

    let spanPrecoProduto = document.createElement('span');
    spanPrecoProduto.textContent = `R$ ${item.produto.preco.toFixed(2).replace('.',',')}`;
    spanPrecoProduto.classList.add('precoCarrinho');

    let imagemProduto = document.createElement('img');
    imagemProduto.src = `${item.produto.imagem}`;
    imagemProduto.classList.add('imagemProduto');

    // Crie a div para a imagem (serÃ¡ filha de divItemCarrinho)
    let divImagem = document.createElement('div');
    divImagem.classList.add('divImagem');
    divImagem.appendChild(imagemProduto); // Anexe a imagem Ã  sua div

    


    // 3. Criar a DIV pai 'divProdutoDescricao'
    // Ela precisa ser criada AQUI porque vai receber o nome, descriÃ§Ã£o, e talvez ingredientes
    let divProdutoDescricao = document.createElement('div');
    divProdutoDescricao.classList.add('divProdutoDescricao');

    // Adicione os elementos comuns (nome, descriÃ§Ã£o, observaÃ§Ã£o) Ã  divProdutoDescricao
    divProdutoDescricao.appendChild(h3NomeProduto);
    divProdutoDescricao.appendChild(descricaoProduto);

    

    // 4. LÃ³gica CONDICIONAL para ingredientes (sÃ³ para lanches)
    if (item.produto.tipo === 'lanche') {
        let ingredientesProdutos = document.createElement('p');
        ingredientesProdutos.textContent = `Ingredientes: ${item.produto.ingredientes.join(', ')}`;
        ingredientesProdutos.classList.add('ingredientesProdutos');
        divProdutoDescricao.appendChild(ingredientesProdutos); // Anexe ingredientes se for lanche

        // Crie a div para observaÃ§Ãµes e seus elementos (serÃ¡ filha de divProdutoDescricao)
        let divObs = document.createElement('div');
        divObs.classList.add('divObs');
        let labelObs = document.createElement('label');
        labelObs.textContent = 'ObservaÃ§Ã£o: '
        labelObs.classList.add('labelObs')
        let inputObs = document.createElement('input');
        inputObs.placeholder = 'Ex: sem maionese, sem tomate, etc';
        inputObs.classList.add('inputObs');
        inputObs.addEventListener('input', function() {
        item.observacao = inputObs.value;
      });

      divObs.appendChild(labelObs);
      divObs.appendChild(inputObs);
      divProdutoDescricao.appendChild(divObs); // Adicione a div de observaÃ§Ãµes APÃ“S os ingredientes, se houver

      

      

    }

    


    // 5. Criar e preencher as divs de controle de quantidade e botÃµes
    let divControleDeQuantidade = document.createElement('div');
    divControleDeQuantidade.classList.add('controles-quantidade');

    let divControleBotoes = document.createElement('div');
    divControleBotoes.classList.add('divControleBotoes');

    let botaoAumentar = document.createElement('button');
    botaoAumentar.textContent = `+`;
    botaoAumentar.classList.add('btnAumentar');
    botaoAumentar.addEventListener('click', function() {
        let quantidadeTotal = item.quantidade + 1;
        item.quantidade = quantidadeTotal;
        spanQuantidade.textContent = `${quantidadeTotal}`;
        atualizarCarrinho();
    });

    let spanQuantidade = document.createElement('span');
    spanQuantidade.textContent = item.quantidade;
    spanQuantidade.classList.add('quantidade-item');

    let botaoDiminuir = document.createElement('button');
    botaoDiminuir.textContent = `-`;
    botaoDiminuir.classList.add('btnDiminuir');
    botaoDiminuir.addEventListener('click', function() {
        if (item.quantidade === 1) {
            let encontrarItem = itensCarrinho.indexOf(item);
            itensCarrinho.splice(encontrarItem, 1);
            atualizarCarrinho();
        } else {
            let quantidadeTotal = item.quantidade - 1;
            item.quantidade = quantidadeTotal;
            spanQuantidade.textContent = `${quantidadeTotal}`;
            atualizarCarrinho();
        }
    });

    let botaoRemover = document.createElement('button');
    let iconeRemover = document.createElement('i');
    iconeRemover.classList.add('fa-solid', 'fa-trash-can');
    botaoRemover.classList.add('btnRemover');
    botaoRemover.addEventListener('click', function() {
        let encontrarItem = itensCarrinho.indexOf(item);
        itensCarrinho.splice(encontrarItem, 1);
        atualizarCarrinho();
        document.body.style.overflow = 'auto'
    });

    // Anexar botÃµes e span de quantidade Ã  divControleBotoes
    divControleBotoes.appendChild(botaoAumentar);
    divControleBotoes.appendChild(spanQuantidade);
    divControleBotoes.appendChild(botaoDiminuir);
    botaoRemover.appendChild(iconeRemover); // Ãcone no botÃ£o
    divControleBotoes.appendChild(botaoRemover); // BotÃ£o Ã  div de botÃµes



    // Anexar o preÃ§o e os controles de botÃµes Ã  divControleDeQuantidade
    divControleDeQuantidade.appendChild(spanPrecoProduto);
    divControleDeQuantidade.appendChild(divControleBotoes);


    // 6. Criar e preencher a divInfoProdutos
    let divInfoProdutos = document.createElement('div');
    divInfoProdutos.classList.add('divInfoProdutos');
    divInfoProdutos.appendChild(divProdutoDescricao); // divProdutoDescricao Ã© filha
    divInfoProdutos.appendChild(divControleDeQuantidade); // divControleDeQuantidade Ã© filha


    // 7. Anexar divImagem e divInfoProdutos Ã  divItemCarrinho
    divItemCarrinho.appendChild(divImagem);
    divItemCarrinho.appendChild(divInfoProdutos);

    // 8. Anexar a divItemCarrinho Ã  div principal do carrinho
    itensDoCarrinhoDiv.appendChild(divItemCarrinho);
});
        
        }
    
    }





// ==========================================================================================

    // FUNÃ‡ÃƒO ATUALIZAR CARRINHO
    function atualizarCarrinho() {
        mostrarItensDoCarrinho() // Garante que a lista de itens seja exibida e atualizada

        if (itensCarrinho.length === 0) {
            modalCarrinho.style.display = 'none'
            document.body.style.position = '';
            document.body.style.top = '';
            document.body.style.width = '';
            document.body.style.overflow = 'auto'; // Reabilita a rolagem
            window.scrollTo(0, scrollPosition);
          // Certifique-se de que a mensagem de carrinho vazio temporÃ¡ria nÃ£o esteja visÃ­vel aqui
        mensagemCarrinhoVazioDiv.style.display = 'none'; 
        }

        let valorTotalCarrinho = document.querySelector('#total-carrinho')
        let somaDoTotal = 0

        let totalItensCarrinho = 0

        itensCarrinho.forEach(function(item) {

        totalItensCarrinho = totalItensCarrinho + item.quantidade
    

    
        })

        contadorCarrinho.textContent = `${totalItensCarrinho}`

    


        itensCarrinho.forEach(function(item) {
            somaDoTotal = (item.produto.preco * item.quantidade) + somaDoTotal
        
        })




        let h3Total = valorTotalCarrinho.querySelector('h3');
            h3Total.textContent = `TOTAL: R$ ${somaDoTotal.toFixed(2).replace('.',',')}`;
            h3Total.classList.add('precoCarrinhoTotal')

        
    }

    // MODAL DADOS DINÃ‚MICAMENTE CONFIGURADO A PARTIR DAQUI ATÃ‰ O ======

    // FUNÃ‡ÃƒO EXIBIR DADOS

    const exibirModalDados = document.querySelector('#ModalDados')
    const btnFinalizar = document.getElementById('finalizar-compra')
    btnFinalizar.addEventListener('click', function() {

       // 1. Salva a posiÃ§Ã£o e "congela" o body ANTES de abrir
    scrollPosition = window.scrollY;
    document.body.style.position = 'fixed';
    document.body.style.top = `-${scrollPosition}px`;
    document.body.style.width = '100%';
    document.body.style.overflow = 'hidden';



        exibirModalDados.style.display = 'block'
        modalCarrinho.style.display = 'none'
    })

    // FUNÃ‡ÃƒO BOTÃƒO VOLTAR

    const btnVoltar = document.getElementById('VoltarPedido')

    btnVoltar.addEventListener('click', function(event) {
        event.preventDefault();
        
        btnVoltar.classList.add('clicado')
        setTimeout(() => {
          btnVoltar.classList.remove('clicado')
        }, 300);
        exibirModalDados.style.display = 'none'
        modalCarrinho.style.display = 'block'
    })


    // EVENTO BOTÃƒO FECHAR

    const botaoFecharPedido = document.querySelector('.close-button-dados')
    botaoFecharPedido.addEventListener('click', function() {

     // 2. Remove as propriedades de "congelamento" e restaura a rolagem
    document.body.style.position = '';
    document.body.style.top = '';
    document.body.style.width = '';
    document.body.style.overflow = 'auto'; // Reabilita a rolagem
    window.scrollTo(0, scrollPosition);
      
    exibirModalDados.style.display = 'none'
    document.body.style.overflow = 'auto'
    
})
  // FUNÃ‡ÃƒO AVANÃ‡AR PEDIDO
    const btnAvancar = document.getElementById('AvancarPedido')
    console.log('BotÃ£o AvanÃ§ar encontrado:', btnAvancar); 
    const exibirModalPedido = document.getElementById('ModalFazerPedido')
    const divPedido = document.getElementById('Pedido')
    const totalPreco = document.getElementById('ValorTotalPedidoFinal')
    const divItensListaPedido = document.getElementById('itensListadosNoPedido')

    let precoTotalDosItens = 0

      btnAvancar.addEventListener('click', function() {
      btnAvancar.classList.add('clicado')
      setTimeout(() => {
    btnAvancar.classList.remove('clicado');
      }, 300);

      let possoAvancar = false

      if (opcaoRetirada.checked) {
        possoAvancar = verificarCamposRetirada();
      } else if (opcaoEntrega.checked) {
        possoAvancar = verificarCamposEntrega();
      }

      if (possoAvancar) {
        //Apenas uma linha para abrir o Modal Junto com os itens.
        abrirModalPedidoEListarItens()
      } else {

      }
    

    })


    

      

      
      // EVENTO OPÃ‡ÃƒO ENTREGA
    let opcaoEntrega = document.querySelector('.CEntrega')
    let Formul = document.querySelector('#formEntrega')

    opcaoEntrega.addEventListener('click', function() {
        document.querySelector('#formEntrega').style.display = 'flex'
    })





    



    // EVENTO OPÃ‡ÃƒO RETIRADA
    let opcaoRetirada = document.querySelector('.CRetirada')
    
    opcaoRetirada.addEventListener('click', function() {

        document.querySelector('#formEntrega').style.display = 'none'

        document.querySelector('#Bairro').value = 'Selecionar'
        document.querySelector('#Rua').value = ''
        document.querySelector('#Numero').value = ''
        document.querySelector('#complemento').value = ''
        
    }) 

      // FUNÃ‡ÃƒO QUE VALIDA OS DADOS PARA RETIRADA
      function verificarCamposRetirada() {
        const inputNome = document.getElementById('nomeUsuario')
        const valorNome = inputNome.value

        const inputCell = document.getElementById('cellUsuario')
        const valorCell = inputCell.value

        let dadosPreenchidos = true

        if (valorNome === "") {
          erroNome.style.display = 'block';
          dadosPreenchidos = false;
        } else {
          erroNome.style.display = 'none'
        }

        if (valorCell === "") {
          erroCell.style.display = 'block';
          dadosPreenchidos = false;
        } else {
          erroCell.style.display = 'none'
        }

        return dadosPreenchidos
      }

      /*=============*/

        function verificarCamposEntrega() {

    const inputNome = document.getElementById('nomeUsuario')
    const valorNome = inputNome.value;

    const inputCell = document.getElementById('cellUsuario')
    const valorCell = inputCell.value;

    const selectBairro = document.getElementById('Bairro')
    const valorBairro = selectBairro.value;

    const inputRua = document.getElementById('Rua')
    const valorRua = inputRua.value;

    const inputNumero = document.getElementById('NumeroCasa')
    const valorNumero = inputNumero.value

    const erroNome = document.getElementById('erroNome')
    const erroCell = document.getElementById('erroCell')
    const erroBairro = document.getElementById('erroBairro')
    const erroRua = document.getElementById('erroRua')
    const erroNumero = document.getElementById('erroNumero')
      
      let todosPreenchidos = true;
      
      if (!valorNome) {
        erroNome.style.display = 'block';
        todosPreenchidos = false;
    } else {
      erroNome.style.display = 'none';
    }

      if (!valorCell) {
        erroCell.style.display = 'block';
        todosPreenchidos = false;
      } else {
        erroCell.style.display = 'none'
      }

      if (valorBairro === 'Selecionar') {
        erroBairro.style.display = 'block'
        todosPreenchidos = false;
      } else {
        erroBairro.style.display = 'none';
      }

      if (!valorRua) {
        erroRua.style.display = 'block';
        todosPreenchidos = false;
      } else {
        erroRua.style.display = 'none';
      }

      if (!valorNumero) {
        erroNumero.style.display = 'block'
        todosPreenchidos = false;
      } else {
        erroNumero.style.display = 'none'
      }

      // Retorna o resultado final
      return todosPreenchidos



    }

    // FUNÃ‡ÃƒO VALOR DE TAXA DE ENTREGA


    
    let taxaEntrega = document.getElementById('taxaEntrega')
    let divModalConteudo = document.querySelector('.ContModalFazerPedido')



    function abrirModalPedidoEListarItens() {

        
            
        // 1. Salva a posiÃ§Ã£o de rolagem e "congela" a pÃ¡gina ANTES de abrir
        scrollPosition = window.scrollY;
        document.body.style.position = 'fixed';
        document.body.style.top = `-${scrollPosition}px`;
        document.body.style.width = '100%';
        document.body.style.overflow = 'hidden';

          exibirModalDados.style.display = 'none'
          exibirModalPedido.style.display = 'block'
          divItensListaPedido.innerHTML = '';
          precoItens = 0

          const bairroSelecionado = document.getElementById('Bairro').value;
          valorTaxaDeEntrega = precosEntrega[bairroSelecionado] || 0;


        itensCarrinho.forEach(function(item) {

        
        let divControleItemIndividual = document.createElement('div');
        divControleItemIndividual.classList.add('divControleItemIndividual')

        if (item.produto.tipo === 'lanche') {
        
        let addPedido = document.createElement('li')
        addPedido.textContent = `Item: ${item.quantidade}x ${item.produto.nome} `;
        divControleItemIndividual.appendChild(addPedido)
        addPedido.classList.add('appPedido')

        let pedidoImagem = document.createElement('img')
        pedidoImagem.src = `${item.produto.imagem}`
        pedidoImagem.classList.add('imagemPedidoFinal')
        divControleItemIndividual.appendChild(pedidoImagem)

        let addIngredientes = document.createElement('p')
        addIngredientes.textContent = `Ingredientes: ${item.produto.ingredientes.join(', ')}`
        divControleItemIndividual.appendChild(addIngredientes)
        addIngredientes.classList.add('addIngredientes')

        let addPreco = document.createElement('span')
        addPreco.textContent = ` PreÃ§o: R$ ${item.produto.preco.toFixed(2).replace('.', ',')}`
        addPreco.classList.add('precoFazerPedido')
        divControleItemIndividual.appendChild(addPreco)
        
        
        
        

        } else if (item.produto.tipo === 'bebida') {
          let addPedido = document.createElement('li')
          addPedido.textContent = `Item: ${item.quantidade} x ${item.produto.nome} `;
          divControleItemIndividual.appendChild(addPedido)
          addPedido.classList.add('appPedido')
          
          let pedidoImagem = document.createElement('img')
          pedidoImagem.src = `${item.produto.imagem}`
          pedidoImagem.classList.add('imagemPedidoFinal')
          divControleItemIndividual.appendChild(pedidoImagem)

          let addPreco = document.createElement('span')
          addPreco.textContent = ` PreÃ§o: R$ ${item.produto.preco.toFixed(2).replace('.', ',')} ` 
          addPreco.classList.add('precoFazerPedido')
          divControleItemIndividual.appendChild(addPreco)


          
          
        }
        
        precoItens += item.produto.preco * item.quantidade
          
        divItensListaPedido.appendChild(divControleItemIndividual)

      });

        const precoFinal = precoItens + valorTaxaDeEntrega

        totalPreco.textContent = `PreÃ§o Total: R$ ${precoFinal.toFixed(2).replace('.', ',')}`

        taxaEntrega.textContent = `Taxa de Entrega: R$ ${valorTaxaDeEntrega.toFixed(2).replace('.', ',')}`

    };

        


    const btnVoltarPedido = document.getElementById('voltarPedido')
        btnVoltarPedido.addEventListener('click', function() {
        exibirModalPedido.style.display = 'none'
        exibirModalDados.style.display = 'block'
    })

    const btnFecharPedido = document.querySelector('.close-button-pedido')
    btnFecharPedido.addEventListener('click', function() {

     // 2. Remove as propriedades de "congelamento" e restaura a rolagem
    document.body.style.position = '';
    document.body.style.top = '';
    document.body.style.width = '';
    document.body.style.overflow = 'auto'; // Reabilita a rolagem
    window.scrollTo(0, scrollPosition);

    exibirModalPedido.style.display = 'none'
    document.body.style.overflow = 'auto'
    


    })


// =======================================================================================================


// BOTÃƒO DE FINALIZAR PEDIDO
const btnFinalizarPedidoWhatsApp = document.getElementById('Finalizar-Pedido');

btnFinalizarPedidoWhatsApp.addEventListener('click', function () {
    // --- 1. Captura dados do cliente ---
    let nomeCliente = document.querySelector('#nomeUsuario').value;
    let telefoneCliente = document.querySelector('#cellUsuario').value;
    let tipoPedido = document.querySelector('input[name="TipoPedido"]:checked').id;

    // --- 2. Monta array de itens do pedido ---
    let itensPedido = itensCarrinho.map(item => ({
        nome: item.produto.nome,
        preco: item.produto.preco * item.quantidade,
        quantidade: item.quantidade,
        observacoes: item.observacao || ''
    }));

    // --- 3. Captura endereÃ§o se for entrega ---
    const endereco = tipoPedido === 'Entrega' ? {
        bairro: document.querySelector('#Bairro').value,
        rua: document.querySelector('#Rua').value,
        numero: document.querySelector('#NumeroCasa').value,
        complemento: document.querySelector('#complemento').value
    } : null;

    // --- 4. Captura forma de pagamento e troco ---
    const formaPagamentoSelecionada = document.querySelector('input[name="formaPagamento"]:checked');
    let textoFormaPagamento = formaPagamentoSelecionada?.id || 'NÃ£o especificada';
    let valorTroco = parseFloat(document.getElementById('inputTroco')?.value || 0);

    // --- 5. Monta objeto completo para o backend ---
    const pedidoParaBackend = {
        cliente: {
            nome: nomeCliente,
            telefone: telefoneCliente,
            tipo: tipoPedido === 'Entrega' ? 'Entrega' : 'Retirada',
        },
        endereco: endereco,
        itens: itensPedido,
        pagamento: textoFormaPagamento,
        troco: valorTroco
    };

    // --- 6. Envia para o backend para impressÃ£o USB ---
    fetch('arthurlanchesback.duckdns.org/api/pedido', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(pedidoParaBackend)
    })
    .then(res => res.json())
    .then(data => {
        console.log(data.mensagem);
    })
    .catch(err => console.error('Erro ao enviar pedido:', err));

    // --- 7. Monta mensagem para WhatsApp ---
    let mensagemWhatsApp = '*-- NOVO PEDIDO - SANDUBA DO GAROTO --*\n\n';
    mensagemWhatsApp += '*Dados do Cliente:*\n';
    mensagemWhatsApp += `Nome: ${nomeCliente}\n`;
    mensagemWhatsApp += `Telefone: ${telefoneCliente}\n`;
    mensagemWhatsApp += `Tipo de Pedido: ${tipoPedido === 'Entrega' ? 'Entrega' : 'Retirada'}\n`;

    // Adiciona o endereÃ§o se o tipo de pedido for 'Entrega'
    if (tipoPedido === 'Entrega') {
        mensagemWhatsApp += '\n*EndereÃ§o de Entrega:*\n';
        mensagemWhatsApp += `Bairro: ${endereco.bairro}\n`;
        mensagemWhatsApp += `Rua: ${endereco.rua}\n`;
        mensagemWhatsApp += `NÃºmero: ${endereco.numero}\n`;
        if (endereco.complemento) mensagemWhatsApp += `Complemento: ${endereco.complemento}\n`;
    }

    mensagemWhatsApp += '\n*Itens do Pedido:*\n';
    let totalFinalParaWhatsApp = 0; // Inicializa a variÃ¡vel aqui
    if (itensCarrinho.length > 0) {
        itensCarrinho.forEach((item, index) => {
            let linhaItem = `${index + 1}. ${item.quantidade}x ${item.produto.nome} (R$ ${(item.produto.preco * item.quantidade).toFixed(2).replace('.', ',')})`;
            if (item.observacao && item.observacao.trim() !== '') linhaItem += `\n Â - ObservaÃ§Ã£o: ${item.observacao}`;
            mensagemWhatsApp += linhaItem + '\n';
            totalFinalParaWhatsApp += item.produto.preco * item.quantidade;
        });
    } else {
        mensagemWhatsApp += 'Nenhum item adicionado ao carrinho.\n';
    }

    // Adiciona a taxa de entrega e calcula o total APÃ“S o loop
    if (tipoPedido === 'Entrega') {
        totalFinalParaWhatsApp += valorTaxaDeEntrega;
        mensagemWhatsApp += `\nTaxa de Entrega: R$ ${valorTaxaDeEntrega.toFixed(2).replace('.', ',')}\n`;
    }

    mensagemWhatsApp += `\n*Total do Pedido: R$ ${totalFinalParaWhatsApp.toFixed(2).replace('.', ',')}*\n`;
    mensagemWhatsApp += '\n*InformaÃ§Ãµes de Pagamento:*\n';
    mensagemWhatsApp += `Forma de Pagamento: ${textoFormaPagamento}\n`;
    // LÃ³gica para o troco: usa o valor digitado diretamente
if (textoFormaPagamento === 'Dinheiro' && valorTroco > 0) {
    mensagemWhatsApp += `: | Precisa de R$ ${valorTroco.toFixed(2).replace('.', ',')} de troco. \n`;
} else {
    mensagemWhatsApp += 'NÃ£o precisa de troco.\n';
}

    // --- 8. Envia mensagem para WhatsApp ---
    const numeroWhatsApp = '5582987165196';
    const linkWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(mensagemWhatsApp)}`;
    window.open(linkWhatsApp, '_blank');

    // --- 9. Fecha modal e libera rolagem ---
    document.querySelector('#ModalFazerPedido').style.display = 'none';
    document.body.style.overflow = 'auto';
});






    

    //FUNÃ‡ÃƒO TOPO (OPEN-CLOSE)
    let openClose = document.getElementById('open-close')
    let data = new Date()
    let hora = data.getHours()
    let dia = data.getDay()
    //let hora = 10

    function AbertoFechado() {

        /*Exemplo de cÃ³digo se fecha-se algum dia o estabelecimento */

        /* if (dia === 1) {
          return false
        } else {
          if (hora >= 18 && hora < 24) {
          return true
          } else {
            return false
          } */

          // Como abre todo santo dia, fizemos sÃ³ a condiÃ§Ã£o do horÃ¡rio.
          if (hora >= 18  && hora < 24 ) {
            return true
        } else {
            return false
        }

        }
        
    



    function exibirOpenClose() {
        let ResultadoFuncao = AbertoFechado()

        if (ResultadoFuncao === true) {
            let p1 = document.createElement('p')
            p1.textContent = 'Aberto!'
            p1.style.color = 'white'
            p1.style.backgroundColor = 'green'
            p1.style.padding = '5px'
            p1.style.margin = '5px'
            p1.style.borderRadius = '3px'
            openClose.appendChild(p1)

            let novoP = document.createElement('p')
            novoP.textContent = 'Estamos funcionando!'
            openClose.appendChild(novoP)


        } else {

            let p2 = document.createElement('p')
            p2.textContent = 'Fechado!'
            p2.classList.add('btn-fechado-horarios')
            openClose.appendChild(p2)
            let novoP2 = document.createElement('p')
            novoP2.textContent = 'HorÃ¡rio de funcionamento: '
            novoP2.classList.add('msghorariofuncionamento')
            openClose.appendChild(novoP2)

            let divFuncionamento = document.createElement('div')
            divFuncionamento.classList.add('divFuncionamento')
            openClose.appendChild(divFuncionamento)
            
            let p3 = document.createElement('p')
            p3.textContent = '18:00 - 23:59'
            p3.classList.add('msgfuncionamento')
            divFuncionamento.appendChild(p3)

            let p4 = document.createElement('p')
            p4.textContent = 'ðŸ‘ˆ Visualizar os dias'
            p4.classList.add('msgverhorarios')
            divFuncionamento.appendChild(p4)

            let btnEntregaTaxa = document.querySelector('.btnEntrega')
            btnEntregaTaxa.style.display = 'none'

            p3.addEventListener('click', function() {
            modalhorarios.style.display = 'block'

            
        })
        }




        let botaoFechar = document.querySelector('.close-button-horarios')
            botaoFechar.addEventListener('click', function() {
                modalhorarios.style.display = 'none'
            })
    
    }



    exibirOpenClose();



    let ModalEntrega = document.querySelector('#modalTaxaEntrega')
    let btnEntregaTaxa = document.querySelector('.btnEntrega')
    btnEntregaTaxa.addEventListener('click', function() {
        ModalEntrega.style.display = 'block'
    })

    let btnfecharModalEntrega = document.querySelector('.close-button-taxas')

    btnfecharModalEntrega.addEventListener('click', function() {
      ModalEntrega.style.display = 'none'
    })




    let opcaoDinheiro = document.getElementById('Dinheiro')
    let divPIX = document.getElementById('controlePIX')
    let opcaoPIX = document.getElementById('Pix')
    let opcaoCartao = document.getElementById('pagamentoCartao')
    let opcaoTroco = document.getElementById('inputTroco')
    let divformadePagamento = document.querySelector('.formas-pagamento')

    // Evento clique em dinheiro liberar opÃ§Ã£o troco.
    opcaoDinheiro.addEventListener('click', function () {
      opcaoTroco.style.display = 'flex'
      divformadePagamento.style.marginBottom = '35px'

    })

    opcaoPIX.addEventListener('click', function() {
      opcaoTroco.style.display = 'none'
      divformadePagamento.style.marginBottom = ''
    })

    opcaoCartao.addEventListener('click', function() {
      opcaoTroco.style.display = 'none'
      divformadePagamento.style.marginBottom = ''
    })


    // BOTÃƒO QRCODE

    let qrcode = document.getElementById('qrcode')
    let modalQRCode = document.getElementById('ModalQRCode')
    qrcode.addEventListener('click', function(event) {
      event.preventDefault();
      modalQRCode.style.display = 'flex'

    })

    let botaofecharQRCODE = document.querySelector('.close-button-qrcode')

    botaofecharQRCODE.addEventListener('click', function() {
      modalQRCode.style.display = 'none'
    })

    // BOTÃƒO ZAP

    let btnZap = document.getElementById('botaozap')
    btnZap.addEventListener('click', function() {

    const numeroWhatsApp = '5582987165196'; // Exemplo: 55 = Brasil, 82 = DDD, 999261614 = nÃºmero

    // 2. Crie a mensagem (opcional, mas muito Ãºtil)
    const mensagemPadrao = 'OlÃ¡, gostaria de fazer um pedido!';

    // 3. Monte o link completo para o WhatsApp
    const linkWhatsApp = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(mensagemPadrao)}`;

    // 4. Abra o link em uma nova aba
    window.open(linkWhatsApp, '_blank');

    })


    /* MENU CATEGORIAS */
    
    const botoesMenu = document.querySelectorAll('.botoesCategorias')

      botoesMenu.forEach(function (botaoSelecionado) {
        botaoSelecionado.addEventListener('click', function() {

          const categoriaID = botaoSelecionado.dataset.categoria

                // Se o valor nÃ£o estiver vazio, rola a pÃ¡gina
        if (categoriaID) {
        //Encontra a seÃ§Ã£o correspondente pelo ID
        const secao = document.getElementById(categoriaID)

        // Rola a pÃ¡gina atÃ© a seÃ§Ã£o
        if (secao) {
          secao.scrollIntoView({
            behavior: 'smooth', // Deixa a rolagem suave
            block: 'start' // Alinha o topo da seÃ§Ã£o com o topo da janela
          });
        }
      }

        })

      })






    